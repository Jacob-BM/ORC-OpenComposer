---
form:
  partition:
    widget: select
    label: Partition
    options:
      - [ gpu1, gpu1, set-label-cores: Number of cores (1 - 72),  set-max-cores: 72,  set-label-memory: Memory (up to 186GB),  set-max-memory: 186,  set-label-time_1: Maximum run time hours (0 - 3), set-max-time_1: 3 ]
      - [ gpu2, gpu2, set-label-cores: Number of cores (1 - 36),  set-max-cores: 36,  set-label-memory: Memory (up to 93GB),   set-max-memory: 93   ]
      - [ mem1, mem1, set-label-cores: Number of cores (1 - 224), set-max-cores: 224, set-label-memory: Memory (up to 5020GB), set-max-memory: 5020, set-label-time_1: Maximum run time hours (0 - 3), set-max-time_1: 3 ]
      - [ mem2, mem2, set-label-cores: Number of cores (1 - 56),  set-max-cores: 56,  set-label-memory: Memory (up to 1500GB), set-max-memory: 1500 ]
      - [ ondemand-reserved, ondemand-reserved, set-cores-label: Number of cores (1 - 8), set-max-cores: 8, set-label-memory: Memory, set-label-time_1: Maximum run time hours (0 - 720), set-max-time_1: 720 ]
  
  cores:
    widget: number
    value:  1
    
  time:
    widget:   number
    label:    [ Maximum run time hours (0 - 24), Maximum run minutes (0 - 59) ]
    size:     2
    value:    [  1,  0 ]
    min:      [  0,  0 ]
    max:      [ 24, 59 ]
    step:     [  1,  1 ]

  show_advanced_option:
    widget: checkbox
    label:
    options:
      - ["Show advanced option", "", show-email, show-mail_option, show-array, show-log ]

  mail_option:
    label: Mail option
    widget: checkbox
    direction: horizontal
    separator: ","
    indent: 1
    options:
      - [ "Beginning of job execution", 'BEGIN',   enable-email ]
      - [ "End of job execution",       'END',     enable-email ]
      - [ "Fail of job",                'FAIL',    enable-email ]
      - [ "When the job is requeued",   'REQUEUE', enable-email ]
      - [ "All",                        'ALL',     enable-email ]
      
  email:
    widget: email
    label:  Email
    indent: 2
    
  array:
    widget: number
    label: [ Array Job (start index), Array Job (last index) ]
    size: 2
    min:  [0, 0]
    help: Each job executed from an array job is assigned a task ID, which can be referenced in the shell script via the environment variable SLURM_ARRAY_TASK_ID.

script: |
  #!/usr/bin/env bash
  #SBATCH -p #{partition}
  #SBATCH -n #{cores}
  #SBATCH -t #{time_1}:#{time_2}:00
  #SBATCH --mail-user=#{email}
  #SBATCH --mail-type=#{mail_option}
  #SBATCH --array=#{array_1}-#{array_2}
  